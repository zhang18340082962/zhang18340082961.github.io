{"title":"sql排名函数","uid":"68c9396da13a152d585d7816d6c82312","slug":"sql排名函数","date":"2021-12-23T03:14:23.000Z","updated":"2022-04-03T06:06:41.689Z","comments":true,"path":"api/articles/sql排名函数.json","keywords":null,"cover":null,"content":"<ul>\n<li><p>rank()排名是不连续的，出现同名的排序序号会相同(比较常规的排序)，存在并列，且序号会跳跃</p>\n<p>适合求第一名，名次这类</p>\n</li>\n</ul>\n<pre class=\"line-numbers language-none\"><code class=\"language-none\">select \nemployee_id\n,last_name\n,department_id\n,salary\n,rank() over(partition by department_id order by salary desc) \nfrom employees</code></pre>\n<ul>\n<li><p>row_number()排名是连续的,出现同名的序号仍然会连续，不存在并列和跳跃</p>\n<p>适合计算个数，位置，连续购买场景</p>\n</li>\n</ul>\n<pre class=\"line-numbers language-none\"><code class=\"language-none\">select \nemployee_id \n,last_name \n,department_id \n,salary \n,row_number() over(partition by department_id order by salary desc) \nfrom employees </code></pre>\n<ul>\n<li><p>dense_rank()排名是连续的，出现同名的序号会相同，存在并列，且序号不会跳跃</p>\n<p>（用的比较少的，单纯需要排名且存在并列也不跳跃）</p>\n</li>\n</ul>\n<pre class=\"line-numbers language-none\"><code class=\"language-none\">select \nemployee_id \n,last_name \n,department_id \n,salary \n,dense_rank() over(partition by department_id order by salary desc) \nfrom employees </code></pre>\n<p>– ntile()根据排序指定数量进行分区编号（分区编号排序）</p>\n<pre class=\"line-numbers language-none\"><code class=\"language-none\">select \nemployee_id \n,last_name \n,department_id \n,salary \n,ntile(3) over(partition by department_id order by salary desc) \nfrom employees </code></pre>","feature":true,"text":" rank()排名是不连续的，出现同名的排序序号会相同(比较常规的排序)，存在并列，且序号会跳跃 适合求第一名，名次这类 select employee_id ,last_name ,department_id ,salary ,rank() over(partition by ...","link":"","photos":[],"count_time":{"symbolsCount":783,"symbolsTime":"1 mins."},"categories":[],"tags":[{"name":"数据分析","slug":"数据分析","count":18,"path":"api/tags/数据分析.json"}],"toc":"","author":{"name":"弦好想断","slug":"blog-author","avatar":"https://zhang18340082962.github.io/static/img/default-cover.df7c128c.jpg","link":"/","description":"处女座男生，热爱技术、吉他、旅行。","socials":{"github":"","twitter":"","stackoverflow":"","wechat":"","qq":"","weibo":"","zhihu":"","csdn":"","juejin":"","customs":{}}},"mapped":true,"prev_post":{"title":"python数据分析：xlwings操作excel","uid":"b183580f01b4c460a08090715fbc01f0","slug":"python数据分析：xlwings操作excel","date":"2022-01-16T11:16:09.000Z","updated":"2022-04-03T06:07:37.193Z","comments":true,"path":"api/articles/python数据分析：xlwings操作excel.json","keywords":null,"cover":null,"text":"xlwings是Python中操作Excel的一个第三方库，支持.xls读写，.xlsx读写，操作非常简单，功能也很强大xlwings与VBA的配合非常完美，你可以在python中调用VBA，也可以在VBA中使用python编程，这些通过xlwings都可以巧妙实现。先说装这个x...","link":"","photos":[],"count_time":{"symbolsCount":"3.5k","symbolsTime":"3 mins."},"categories":[],"tags":[{"name":"数据分析","slug":"数据分析","count":18,"path":"api/tags/数据分析.json"}],"author":{"name":"弦好想断","slug":"blog-author","avatar":"https://zhang18340082962.github.io/static/img/default-cover.df7c128c.jpg","link":"/","description":"处女座男生，热爱技术、吉他、旅行。","socials":{"github":"","twitter":"","stackoverflow":"","wechat":"","qq":"","weibo":"","zhihu":"","csdn":"","juejin":"","customs":{}}},"feature":true},"next_post":{"title":"sql查询连续签到天数","uid":"1a3e4bd78f5e4ca42de4b5c02b9d4f86","slug":"sql查询连续签到天数","date":"2021-12-20T08:23:46.000Z","updated":"2022-04-03T06:06:49.495Z","comments":true,"path":"api/articles/sql查询连续签到天数.json","keywords":null,"cover":null,"text":"先建表 create table user_attendence( user_id bigint comment &#39;用户名&#39;, date TIMESTAMP comment &#39;日期&#39; , is_sign bigint comment &#39;是否...","link":"","photos":[],"count_time":{"symbolsCount":"1.8k","symbolsTime":"2 mins."},"categories":[],"tags":[{"name":"数据分析","slug":"数据分析","count":18,"path":"api/tags/数据分析.json"}],"author":{"name":"弦好想断","slug":"blog-author","avatar":"https://zhang18340082962.github.io/static/img/default-cover.df7c128c.jpg","link":"/","description":"处女座男生，热爱技术、吉他、旅行。","socials":{"github":"","twitter":"","stackoverflow":"","wechat":"","qq":"","weibo":"","zhihu":"","csdn":"","juejin":"","customs":{}}},"feature":true}}